app:
  name: communicator
  port: 8085
server:
  tomcat:
    basedir: /tmp/tomcat
    accesslog:
      directory: logs
      file-date-format: .yyyy-MM-dd
      prefix: access-log
      suffix: .log
      enabled: true
      rotate: true
      rename-on-rotate: true
      buffered: true
      request-attributes-enabled: true
      pattern: '%h %l %u %t "%r" %s %b %D %F %{begin}t %{end}t'
  port: ${app.port}
  error:
    include-exception: true
    include-message: always
logging:
  level:
    ROOT: INFO
    by.sadovnick.communicator: ${LOG_LEVEL}
    org.hibernate.sql: DEBUG
    org.hibernate.orm.jdbc.bind: TRACE
management:
  info:
    git:
      mode: simple
  endpoints:
    web:
      exposure:
        include: "*"
  server:
    port: ${MANAGEMENT_SERVER}
  endpoint:
    health:
      show-details: always
  metrics:
    enable:
      all: false
      jvm: true
    distribution:
      percentiles-histogram:
        http:
          server:
            request: true
spring:
  application:
    name: ${app.name}
  config:
    import: optional:file:.env[.properties]
  banner:
    location: classpath:banner/banner.txt
  main:
    allow-bean-definition-overriding: true
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration
      - org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration
  jackson:
    mapper:
      accept-case-insensitive-enums: true
    parser:
      allow-comments: true
    serialization:
      write-bigdecimal-as-plain: true
    deserialization:
      use-big-decimal-for-floats: true
  datasource:
    type: com.zaxxer.hikari.HikariDataSource
    driver-class-name: org.postgresql.Driver
    url: jdbc:postgresql://${DB_ENDPOINT}:${DB_PORT}/${COMMUNICATORDB_NAME}?${POSTGRESQL_PARAMS}
    username: ${COMMUNICATORDB_USERNAME}
    password: ${COMMUNICATORDB_PASSWORD}
    hikari:
      connection-timeout: ${POSTGRESQL_CONNECTION_TIMEOUT}
      idle-timeout: ${POSTGRESQL_IDLE_TIMEOUT}
      minimum-idle: ${POSTGRESQL_MIN_IDLE}
      maximum-pool-size: ${POSTGRESQL_MAX_POOL_SIZE}
      register-mbeans: ${REGISTER_MBEANS}
  jpa:
    database: postgresql
    show-sql: true
    generate-ddl: false
    hibernate:
      ddl-auto: validate
    open-in-view: off
    properties:
      hibernate:
        show_sql: true
        globally_quoted_identifiers: true
        format_sql: true
        jdbc:
          use_streams_for_binary: true
        cache:
          use_second_level_cache: false
          region:
            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory
        temp:
          use_jdbc_metadata_defaults: false































